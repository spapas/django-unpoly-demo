{% load static %}
<!DOCTYPE html>
<html>
  <head>
    <title>Unpoly Demo</title>
    
    <meta name='viewport' content='width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1'>
    <link rel="stylesheet" type="text/css" href="{% static '/unpoly/unpoly.min.css' %}" />
    
    <link rel="stylesheet" type="text/css" href="{% static '/css/application.css' %}" />
    <style>
      .navbar-nav .active {
        font-weight: bold;
      }
    </style>
    
  </head>

  <body>
    <loading-indicator></loading-indicator>
    {% include "partials/_nav.html" %}

    <div up-main class="container">
      {% include "partials/_messages.html" %}
      {% block content %}
      {% endblock %}

      {% include "partials/_fragment_explainer.html" %}

    </div>

    <script src="{% static 'unpoly/unpoly.min.js' %}"></script>
    <script src="{% static 'unpoly/unpoly-bootstrap4.min.js' %}"></script>
    <script>
      up.link.config.instantSelectors.unshift('a[up-follow]')
up.link.config.preloadSelectors.unshift('a[up-follow]')

// Enable more logging for curious users.
up.log.enable()

// Gray out tour dots once clicked.
up.on('up:link:follow', '.tour-dot', (event, element) => { element.classList.add('viewed') })

// Don't highlight the fragment insertion from the initial compile on DOMContentLoaded.
window.addEventListener('load', (event) => {
  // Show the yellow flash when a new fragment was inserted.
  up.on('up:fragment:inserted', (event, fragment) => {
    fragment.classList.add('new-fragment', 'inserted')
    up.util.timer(0, () => fragment.classList.remove('inserted'))
    up.util.timer(1000, () => fragment.classList.remove('new-fragment'))
  })
})

    </script>
  </body>
</html>
